
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://docs.forta.network/0.1/deploying-ml-models/">
      
      
        <link rel="prev" href="../external-bots/">
      
      
        <link rel="next" href="../time-series-analysis/">
      
      
        
      
      
      <link rel="icon" href="../forta-logo.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.18+insiders-4.53.6">
    
    
      
        <title>Deploying machine learning models - Forta Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.d5b5f0fd.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer',"GTM-WNVX2Q6");</script>
<!-- End Google Tag Manager -->

    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
<meta property="og:image" content="https://docs.forta.network/en/latest/social-preview2.png" />
<meta property="twitter:card" content="summary_large_image" />
<meta property="twitter:site" content="@FortaNetwork" />
<meta property="twitter:title" content="Forta Docs" />
<meta property="twitter:description" content="Welcome to the Forta docs" />
<meta property="twitter:image" content="https://docs.forta.network/en/latest/social-preview2.png" />

  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="blue-grey">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#deploying-a-machine-learning-model-in-a-detection-bot" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      <!--
  Copyright (c) 2016-2022 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Determine class according to configuration -->



<!-- Header -->
<header class="md-header" data-md-component="header">
  <nav
    class="md-header__inner md-grid"
    aria-label="header.title"
  >

    <!-- Link to home -->
    <a
      href=".."
      title="Forta Docs"
      class="md-header__button md-logo"
      aria-label="Forta Docs"
      data-md-component="logo"
    >
      
  <img src="../forta-logo.png" alt="logo">

    </a>

    <!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            <a href="..">Forta Docs</a>
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            <a href="..">
            
              Deploying machine learning models
            
            </a>
          </span>
        </div>
      </div>
    </div>

    <!-- Color palette -->
    

    <!-- Site language selector -->
    

    <!-- Button to open search modal -->
    <label class="md-header__button md-icon" for="__search">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
    </label>

    <!-- Search interface -->
    <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>


    <!-- Repository information -->
    
  </nav>

  <!-- Navigation tabs (sticky) -->
  
</header>
    
    <div class="md-container" data-md-component="container">
      
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WNVX2Q6"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Forta Docs" class="md-nav__button md-logo" aria-label="Forta Docs" data-md-component="logo">
      
  <img src="../forta-logo.png" alt="logo">

    </a>
    Forta Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    <strong>Use Forta</strong>
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    <strong>Use Forta</strong>
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../introduction-to-subscription-tiers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Introduction to Subscription Tiers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api-reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Using the API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../forta-api-reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    GraphQL Reference
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../subscribing-to-bot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Subscribing to a bot
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://forta.notion.site/Selected-Use-Cases-1dcdf290ecfb47788cd588cdfa12585c" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Use Cases
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fees-tut-how-pay/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Tutorial - How to pay for Forta
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Forta-for-Metamask/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Forta for Metamask
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    <strong>Build on Forta</strong>
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    <strong>Build on Forta</strong>
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../intro-to-bot-dev/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Introduction to Bot Development
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Develop a Bot with the SDK
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Develop a Bot with the SDK
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    1) Quick start
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    2) Testing your bot
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../deploying/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    3) Deploying your bot
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../subscribing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    4) Subscribing to alerts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../maintaining/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    5) Maintaining your bot
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_2_6" id="__nav_2_2_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Tools
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tools
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../useful-libraries/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Useful libraries
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sdk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Javascript/Typescript SDK
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Python SDK
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    CLI commands
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    forta.config.json
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Video tutorials
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hardhat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Integrating with Hardhat
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../deploying-cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    CLI Reference
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../wizard/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Develop a Bot with Bot Wizard
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/forta-network/forta-bot-examples" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Bot Examples
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" checked>
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Bot Development Patterns
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Bot Development Patterns
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bot-development-patterns/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Index
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../best-practices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Best Practices
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../labels/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Adding labels to findings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../error-monitoring/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Error monitoring
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sharding/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Increasing bot throughput
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../long-running-tasks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Long running tasks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sensitive-data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Protecting sensitive data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../private-alerts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Private alerts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../jwt-auth/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    JWT authentication for bots
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../external-bots/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    External bots
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    
  
    Deploying machine learning models
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    
  
    Deploying machine learning models
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#loading-the-ml-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        Loading the ML Model
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Loading the ML Model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-save-trained-model-with-serialization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: Save trained model with serialization
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-add-model-to-dockerfile" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2: Add model to Dockerfile
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-load-model-in-the-initialize-handler" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 3: Load model in the initialize handler
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preparing-model-input-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Preparing Model Input Data
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Preparing Model Input Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tip-1-break-down-logic-into-separate-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tip 1: Break down logic into separate files
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tip-2-caching-3rd-party-api-results" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tip 2: Caching 3rd Party API Results
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tip-3-input-validation-and-alerting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tip 3: Input Validation and Alerting
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#processing-model-output" class="md-nav__link">
    <span class="md-ellipsis">
      
        Processing Model Output
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Processing Model Output">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tip-1-normalizing-prediction-values" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tip 1: Normalizing Prediction Values
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tip-2-setting-a-classification-threshold" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tip 2: Setting a Classification Threshold
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tip-3-distinguish-model-outputs-in-findings" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tip 3: Distinguish Model Outputs in Findings
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monitoring-model-performance" class="md-nav__link">
    <span class="md-ellipsis">
      
        Monitoring Model Performance
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Monitoring Model Performance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tip-1-recording-latency" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tip 1: Recording Latency
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tip-2-retraining-ml-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tip 2: Retraining ML Model
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tip-3-monitoring-ml-model-performance" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tip 3: Monitoring ML Model Performance
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interpreting-model-predictions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Interpreting Model Predictions
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#was-the-guide-helpful" class="md-nav__link">
    <span class="md-ellipsis">
      
        Was the guide helpful?
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../time-series-analysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Time series analysis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../handle-alert/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Consuming bot alerts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bot-transfer-ownership/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Transfer Bot Ownership
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tx-simulation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Transaction simulation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced-testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Advanced testing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../querying-chains/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Querying other chains
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bot-licensing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Bot Licensing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_19" >
        
          
          <label class="md-nav__link" for="__nav_2_5_19" id="__nav_2_5_19_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Bot Development Contests
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_5_19_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5_19">
            <span class="md-nav__icon md-icon"></span>
            
  
    Bot Development Contests
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contest1-compound/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Compound Contest (10/20/2021)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contest2-aave/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Aave Contest (11/3/2021)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contest3-oz/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    OpenZeppelin Contest (11/18/2021)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contest4-forta/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Forta Contest (12/17/2021)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contest5-solace/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Solace Contest (3/1/2022)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contest6-forta/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Forta Contest 2 (4/27/2022)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contest7-forta/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Forta Contest 3 (6/17/2022)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contest8-forta/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Forta Contest 4 (8/31/2022)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contest9-forta/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Forta Contest 5 (10/11/2022)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contest10-forta/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Forta Contest 6 (11/8/2022)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Machine Learning on Forta
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Machine Learning on Forta
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ml-with-forta/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Why Machine Learning?
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ml-data-resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Datasets and Resources
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fees-tut-how-earn/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Tutorial | How to earn developing on Forta
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    <strong>Network Fees and Developer Rewards</strong>
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    <strong>Network Fees and Developer Rewards</strong>
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fees-why/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Why Fees?
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fees-tut-how-pay/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Tutorial | How to Pay for Forta
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fees-tut-how-earn/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Tutorial | How to earn developing on Forta
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fees-faqs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    FAQs about fees
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    <strong>Run a Node</strong>
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    <strong>Run a Node</strong>
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Guide
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Guide
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scan-node/introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scan-node/machine-setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Machine setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scan-node/install-forta-node/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Install Forta node
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scan-node/configure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Configure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scan-node/register/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Register
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scan-node/run/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Run
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scan-node/troubleshoot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Troubleshoot
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scan-node/monitor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Monitor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scan-node/upgrade/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Upgrade
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scan-node/faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    FAQ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scan-node/miscellaneous/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Miscellaneous
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scanner-local-mode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Local mode
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Monitoring SLA
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Monitoring SLA
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sla/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    SLA Score Calculation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sla-api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    SLA API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scanner-pools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Manage pools and stake
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
        
          
          <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Node Resources
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Node Resources
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../alchemy-partnership/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Scan with Alchemy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scan-with-chainstack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Scan with Chainstack
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bware-partnership/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Scan with Bware
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quicknode-partnership/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Scan with Quicknode
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    <strong>Staking on Forta</strong>
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    <strong>Staking on Forta</strong>
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Delegated staking
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Delegated staking
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../delegated-staking-introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../delegated-staking-rewards/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Rewards
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fort-holder-staking-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    FORT Holder Staking Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../deposit-fort-vault/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    FORT Vault Deposit Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scanner-direct-withdrawal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Direct withdrawal
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    <strong>Network Overview</strong>
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    <strong>Network Overview</strong>
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../network-overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Network Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fort-token/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Tokenomics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../governance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Governance
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../FAQs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    FAQs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_5" >
        
          
          <label class="md-nav__link" for="__nav_6_5" id="__nav_6_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Security Overview
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Security Overview
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../security/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Intro
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../security-design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Design
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../security-develop/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Development
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../security-deploy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Deployment & Smart Contracts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../security-testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Testing and Review
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../security-maintain/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Maintenance
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_5_7" >
        
          
          <label class="md-nav__link" for="__nav_6_5_7" id="__nav_6_5_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Smart Contracts
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_5_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Smart Contracts
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../smart-contracts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Intro
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/components/access/AccessManager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Access Manager
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/components/agents/AgentRegistry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Agent Registry
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/components/dispatch/Dispatch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Dispatch
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/components/metatx/Forwarder/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Meta-transaction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/components/scanner_pools/ScannerPoolRegistry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Scanner Pool Registry
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/components/scanners/ScannerRegistry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Scanner Registry
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/components/scanners/ScannerToNodeRunnerMigration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Scanner To Scanner Pool Migration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_5_7_9" >
        
          
          <label class="md-nav__link" for="__nav_6_5_7_9" id="__nav_6_5_7_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Staking
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_6_5_7_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5_7_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Staking
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_5_7_9_1" >
        
          
          <label class="md-nav__link" for="__nav_6_5_7_9_1" id="__nav_6_5_7_9_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Allocation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_6_5_7_9_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5_7_9_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Allocation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/components/staking/StakeAllocator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Stake Allocator
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_5_7_9_2" >
        
          
          <label class="md-nav__link" for="__nav_6_5_7_9_2" id="__nav_6_5_7_9_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Rewards
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_6_5_7_9_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5_7_9_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Rewards
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/components/staking/Accumulators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Accumulators
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/components/staking/RewardsDistributor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Rewards Distributor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_5_7_9_3" >
        
          
          <label class="md-nav__link" for="__nav_6_5_7_9_3" id="__nav_6_5_7_9_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Slashing
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_6_5_7_9_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5_7_9_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Slashing
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/components/staking/SlashingController/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Slashing Controller
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/components/staking/SlashReasons/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Slash Reasons
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_5_7_9_4" >
        
          
          <label class="md-nav__link" for="__nav_6_5_7_9_4" id="__nav_6_5_7_9_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Stake Subjects
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_6_5_7_9_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5_7_9_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Stake Subjects
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/components/staking/DelegatedStakeSubject/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Delegated Stake Subject
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/components/staking/DirectStakeSubject/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Direct Stake Subject
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/components/staking/StakeSubjectGateway/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Stake Subject Gateway
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/components/staking/FortaStaking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Forta Staking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/components/staking/FortaStakingUtils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Forta Staking Utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/components/staking/SubjectTypeValidator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Subject Type Validator
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_5_7_10" >
        
          
          <label class="md-nav__link" for="__nav_6_5_7_10" id="__nav_6_5_7_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Utils
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_6_5_7_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5_7_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Utils
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/components/utils/AccessManaged/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Access Managed
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/components/utils/ForwardedContext/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Forwarded Context
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/components/utils/ReentrancyGuardHandler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Reentrancy Guard Handler
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/components/utils/Routed/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Routed
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/components/utils/StateMachines/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    State Machines
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/components/BaseComponentUpgradeable/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Base Component Upgradeable
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/components/Roles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Roles
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_5_8" >
        
          
          <label class="md-nav__link" for="__nav_6_5_8" id="__nav_6_5_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Stake Slashing
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_5_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Stake Slashing
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../slashing-policy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Slashing Policy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../slashing-creating-proposal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Creating a Slash Proposal
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#loading-the-ml-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        Loading the ML Model
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Loading the ML Model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-save-trained-model-with-serialization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: Save trained model with serialization
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-add-model-to-dockerfile" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2: Add model to Dockerfile
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-load-model-in-the-initialize-handler" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 3: Load model in the initialize handler
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preparing-model-input-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Preparing Model Input Data
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Preparing Model Input Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tip-1-break-down-logic-into-separate-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tip 1: Break down logic into separate files
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tip-2-caching-3rd-party-api-results" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tip 2: Caching 3rd Party API Results
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tip-3-input-validation-and-alerting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tip 3: Input Validation and Alerting
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#processing-model-output" class="md-nav__link">
    <span class="md-ellipsis">
      
        Processing Model Output
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Processing Model Output">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tip-1-normalizing-prediction-values" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tip 1: Normalizing Prediction Values
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tip-2-setting-a-classification-threshold" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tip 2: Setting a Classification Threshold
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tip-3-distinguish-model-outputs-in-findings" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tip 3: Distinguish Model Outputs in Findings
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monitoring-model-performance" class="md-nav__link">
    <span class="md-ellipsis">
      
        Monitoring Model Performance
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Monitoring Model Performance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tip-1-recording-latency" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tip 1: Recording Latency
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tip-2-retraining-ml-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tip 2: Retraining ML Model
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tip-3-monitoring-ml-model-performance" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tip 3: Monitoring ML Model Performance
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interpreting-model-predictions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Interpreting Model Predictions
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#was-the-guide-helpful" class="md-nav__link">
    <span class="md-ellipsis">
      
        Was the guide helpful?
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="deploying-a-machine-learning-model-in-a-detection-bot">Deploying a Machine Learning Model in a Detection Bot</h1>
<p>This guide will share tips and tricks on deploying a <a href="https://scikit-learn.org/stable/index.html">scikit-learn</a> machine learning model in a Python detection bot. To help illustrate the outlined steps, the guide will make references to the  <a href="https://app.forta.network/bot/0x2e51c6a89c2dccc16a813bb0c3bf3bbfe94414b6a0ea3fc650ad2a59e148f3c8">Anomalous Token Transfer ML Detection Bots code (ATT)</a>. Throughout the guide, well use the abbreviation ATT to refer to this bot.</p>
<p>The ATT bot utilizes <a href="https://scikit-learn.org/stable/modules/outlier_detection.html#isolation-forest">the Isolation Forest</a>, an unsupervised outlier detection algorithm to detect anomalous transactions with erc20 token transfers. For more details on its training process, please check out the <a href="https://github.com/forta-network/starter-kits/blob/main/anomalous-token-transfers-ml-py/README.md">bots readme</a>.</p>
<h2 id="loading-the-ml-model">Loading the ML Model</h2>
<p>The following three steps are required to load and interact with a trained machine learning model in the detection bot container:</p>
<ol>
<li>Save the trained model with serialization.</li>
<li>Add model to Dockerfile.</li>
<li>Load the model in the <code>initialize</code> function.</li>
</ol>
<h3 id="step-1-save-trained-model-with-serialization">Step 1: Save trained model with serialization</h3>
<p>To use a model in a different environment without retraining, well need a way to serialize the model. <a href="https://pypi.org/project/dill/"><code>Dill</code></a>, an extended version of <a href="https://docs.python.org/3/library/pickle.html"><code>Pickle</code></a>, a built-in python object serialization module, was used to serialize the ATTs model after training in a python notebook.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">import</span> <span class="nn">dill</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;isolation_forest.pkl&#39;</span><span class="p">,</span><span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n">dill</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
</code></pre></div>
<p>For more details on persisting scikit-learn models, please check out the <a href="https://scikit-learn.org/stable/model_persistence.html#model-persistence">model persistence documentation</a>.</p>
<h3 id="step-2-add-model-to-dockerfile">Step 2: Add model to Dockerfile</h3>
<p>Next, the serialized model will need to be added to the Dockerfile for the model to be accessible in the container.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="k">WORKDIR</span><span class="w"> </span><span class="s">/app</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="k">COPY</span><span class="w"> </span>./isolation_forest.pkl<span class="w"> </span>./
</code></pre></div>
<div class="admonition important">
<p class="admonition-title"><strong>Tip: Update base image for faster Docker builds</strong></p>
<p>Most Python detection bots use the alpine base image for installing Python dependencies. However, if the bot utilizes Python data science packages such as <code>numpy</code>, <code>pandas</code>, and <code>scikit-learn</code>, the build can take 2+ hours. To reduce the build time, its recommended to update the <code>Dockerfile</code> to use a debian base image. This will bring the build time down to &lt;10 minutes. To learn more about this, please check out <a href="https://github.com/forta-network/forta-bot-sdk/issues/159">this github issue</a>.</p>
</div>
<h3 id="step-3-load-model-in-the-initialize-handler">Step 3: Load model in the <code>initialize</code> handler</h3>
<p>The <code>initialize</code> handler can be used to set any global variables and will be only invoked once in the beginning after a bot is assigned to a scan node. To avoid loading a model every time for prediction, we can define a global variable <code>MODEL</code> and load it once during initialization.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">ML_MODEL</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="k">def</span> <span class="nf">initialize</span><span class="p">():</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>   <span class="k">global</span> <span class="n">ML_MODEL</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>   <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Start loading model&#39;</span><span class="p">)</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>   <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;isolation_forest.pkl&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>       <span class="n">ML_MODEL</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>   <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Complete loading model&#39;</span><span class="p">)</span>
</code></pre></div>
<p>When loading a model, it is important for the scikit-learn version in the bot environment to be the exact version as the version used during saving. If not, the model can output unexpected results.</p>
<h2 id="preparing-model-input-data">Preparing Model Input Data</h2>
<p>When preparing input data for a model, you can follow the tips below that can help with code readability, feature generation speed, and debugging:</p>
<h3 id="tip-1-break-down-logic-into-separate-files">Tip 1: Break down logic into separate files</h3>
<p>Create a separate file for input data processing related functions and keep each function logic readable and simple. The ATT bot has a file called <a href="https://github.com/forta-network/starter-kits/blob/main/anomalous-token-transfers-ml-py/src/utils/data_processing.py">data_processing.py</a>, where feature generation functions are located. This will avoid clutter in the main <code>agent.py</code> file and maintain separation of concern.</p>
<h3 id="tip-2-caching-3rd-party-api-results">Tip 2: Caching 3rd Party API Results</h3>
<p>If the model relies on 3rd party data like Etherscan and some data is expected to be requested more than once, consider setting up an LRU cache with pythons <a href="https://docs.python.org/3/library/functools.html#functools.lru_cache"><code>functools.lru_cache</code></a>. This will eliminate redundant network calls and improve feature generation speed. The ATT bot has an LRU cache setup for the following functions:</p>
<ul>
<li><a href="https://github.com/forta-network/starter-kits/blob/main/anomalous-token-transfers-ml-py/src/utils/data_processing.py#L11">Get_first_timestamp</a>: Given address A, the function queries <a href="https://etherscan.io/">Etherscan</a> to get address As first transaction timestamp.</li>
<li><a href="https://github.com/forta-network/starter-kits/blob/main/anomalous-token-transfers-ml-py/src/utils/data_processing.py#L39">Get_token_info</a>: Given an erc20 token address, the function requests token name, symbol, and decimals from the <a href="https://github.com/EverexIO/Ethplorer/wiki/Ethplorer-API">Ethplorer API</a>.</li>
</ul>
<h3 id="tip-3-input-validation-and-alerting">Tip 3: Input Validation and Alerting</h3>
<p>There can be issues during feature generation, especially if requested data from 3rd party APIs are not available. Validating the generated inputs can help surface issues more easily. With validation, we can avoid producing model predictions from invalid inputs. To surface errors more clearly, a finding can be produced for invalid inputs.</p>
<p>The ATT Bot has a simple validation function that checks for incorrect calculation of the feature <code>account_active_period_in_minutes</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="k">def</span> <span class="nf">valid_features</span><span class="p">(</span><span class="n">features</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">   </span><span class="sd">&#39;&#39;&#39;Evaluate model input values&#39;&#39;&#39;</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>   <span class="k">if</span> <span class="n">features</span><span class="p">[</span><span class="s1">&#39;account_active_period_in_minutes&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>       <span class="k">return</span> <span class="kc">False</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>   <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
<p>If the features are invalid, the ATT bot creates an <a href="https://github.com/forta-network/starter-kits/blob/main/anomalous-token-transfers-ml-py/src/utils/findings.py"><code>InvalidModelFeatures</code></a> finding with severity level set to info. These findings can be easily queryable via the <a href="https://docs.forta.network/en/latest/forta-api-reference/">Forta API</a> and examined.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="k">class</span> <span class="nc">InvalidModelFeatures</span><span class="p">(</span><span class="n">TokenTransfersTxFinding</span><span class="p">):</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">tx_executor</span><span class="p">):</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>       <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>       <span class="bp">self</span><span class="o">.</span><span class="n">alert_id</span> <span class="o">=</span> <span class="s1">&#39;INVALID-TOKEN-TRANSFERS-TX&#39;</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>       <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;Model input generation failed for tx executed by </span><span class="si">{</span><span class="n">tx_executor</span><span class="si">}</span><span class="s1">&#39;</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>       <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Invalid Model Features&#39;</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>       <span class="bp">self</span><span class="o">.</span><span class="n">severity</span> <span class="o">=</span> <span class="n">FindingSeverity</span><span class="o">.</span><span class="n">Low</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>       <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">FindingType</span><span class="o">.</span><span class="n">Info</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>       <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="n">metadata</span>
</code></pre></div>
<h2 id="processing-model-output">Processing Model Output</h2>
<h3 id="tip-1-normalizing-prediction-values">Tip 1: Normalizing Prediction Values</h3>
<p>For anomaly detection, its good practice to normalize a model's prediction to a value range between 0 and 1 where anomalous values are closer to 1. It can help you understand how anomalous a value is and evaluate different ML techniques more easily.</p>
<h3 id="tip-2-setting-a-classification-threshold">Tip 2: Setting a Classification Threshold</h3>
<p>With the normalized value, you can set an <code>ANOMALY_THRESHOLD</code> to tweak how often a prediction is classified as an anomaly and reduce the bots alerting rate. If precision is more important than recall, the threshold can be set to a higher value (e.g. prediction greater than 0.7 is considered anomalous). If recall is more important, the threshold can be set lower to allow more predictions with low confidence scores to be classified as anomalies.</p>
<p>Heres how the ATT models scores are updated and predictions defined based on a threshold.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="n">raw_score</span> <span class="o">=</span> <span class="n">ML_MODEL</span><span class="o">.</span><span class="n">score_samples</span><span class="p">(</span><span class="n">model_input</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="c1"># normalize to return score between 0 and 1 (inclusive)</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="n">normalized_score</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">raw_score</span><span class="p">)</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="c1"># ANOMALY_THRESHOLD set to 0.5</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="n">prediction</span> <span class="o">=</span> <span class="s1">&#39;ANOMALY&#39;</span> <span class="k">if</span> <span class="n">normalized_score</span> <span class="o">&gt;=</span> <span class="n">ANOMALY_THRESHOLD</span> <span class="k">else</span> <span class="s1">&#39;NORMAL&#39;</span>
</code></pre></div>
<h3 id="tip-3-distinguish-model-outputs-in-findings">Tip 3: Distinguish Model Outputs in Findings</h3>
<p>If certain model outputs are more important to surface than others, for example an anomaly vs inlier, its important to set an appropriate severity and finding type for different model outputs.</p>
<p>The ATT has a different finding class for anomalous and normal transactions:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="k">class</span> <span class="nc">NormalTransaction</span><span class="p">(</span><span class="n">TokenTransfersTxFinding</span><span class="p">):</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">tx_executor</span><span class="p">):</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>       <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>       <span class="bp">self</span><span class="o">.</span><span class="n">alert_id</span> <span class="o">=</span> <span class="s1">&#39;NORMAL-TOKEN-TRANSFERS-TX&#39;</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>       <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">tx_executor</span><span class="si">}</span><span class="s1"> executed normal tx with token transfers&#39;</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>       <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Normal Transaction&#39;</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>       <span class="bp">self</span><span class="o">.</span><span class="n">severity</span> <span class="o">=</span> <span class="n">FindingSeverity</span><span class="o">.</span><span class="n">Info</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>       <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">FindingType</span><span class="o">.</span><span class="n">Info</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>       <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="n">metadata</span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="k">class</span> <span class="nc">AnomalousTransaction</span><span class="p">(</span><span class="n">TokenTransfersTxFinding</span><span class="p">):</span>
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">tx_executor</span><span class="p">):</span>
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a>       <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a>       <span class="bp">self</span><span class="o">.</span><span class="n">alert_id</span> <span class="o">=</span> <span class="s1">&#39;ANOMALOUS-TOKEN-TRANSFERS-TX&#39;</span>
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a>       <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">tx_executor</span><span class="si">}</span><span class="s1"> executed anomalous tx with token transfers&#39;</span>
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a>       <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Anomalous Transaction&#39;</span>
<a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a>       <span class="bp">self</span><span class="o">.</span><span class="n">severity</span> <span class="o">=</span> <span class="n">FindingSeverity</span><span class="o">.</span><span class="n">Critical</span>
<a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a>       <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">FindingType</span><span class="o">.</span><span class="n">Suspicious</span>
<a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a>       <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="n">metadata</span>
</code></pre></div>
<p>Also, over time you may update and improve the model, so to be able to distinguish and evaluate different models, its important to include the model version, score, classification label, and used threshold in the finding. When the model is updated, the model version can help separate out findings produced by the old and new model.</p>
<p>The agent docker image hash can technically be used as a version, but the hash will not be able to tell apart a code update, model update, or both, so maintaining separate model and bot versions is key. It may also be helpful to keep a log of the model version and the changes you made so that youre aware of the techniques you tried before and avoid re-evaluating past experiments.</p>
<p>ATT bots finding outputs (partial):
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="p">{</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Normal Transaction&quot;</span><span class="p">,</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="o">...</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a> <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>   <span class="o">...</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>   <span class="s2">&quot;prediction&quot;</span><span class="p">:</span> <span class="s2">&quot;NORMAL&quot;</span><span class="p">,</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>   <span class="s2">&quot;anomaly_score&quot;</span><span class="p">:</span> <span class="mf">0.311</span><span class="p">,</span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>   <span class="s2">&quot;anomaly_threshold&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>   <span class="s2">&quot;model_version&quot;</span><span class="p">:</span> <span class="s2">&quot;1657669403&quot;</span> <span class="c1"># created timestamp</span>
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a> <span class="p">}</span>
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="p">}</span>
</code></pre></div></p>
<h2 id="monitoring-model-performance">Monitoring Model Performance</h2>
<h3 id="tip-1-recording-latency">Tip 1: Recording Latency</h3>
<p>Finally, its also useful to record feature generation time and model response time to gauge the models performance in production. This can help you debug and detect issues more easily.</p>
<p>ATT bots finding outputs (partial):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="s2">&quot;feature_generation_response_time&quot;</span><span class="p">:</span> <span class="mf">1.292835959</span><span class="p">,</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="s2">&quot;model_pred_response_time&quot;</span><span class="p">:</span> <span class="mf">0.024292124999999887</span><span class="p">,</span>
</code></pre></div>
<h3 id="tip-2-retraining-ml-model">Tip 2: Retraining ML Model</h3>
<p>As time passes, the model performance can degrade due to shifts in real world data distribution. So once the model is deployed, it's important to frequently monitor the model output distribution to detect any deviations from the distribution seen during training. If the deviation is significant, its recommended to retrain the model with more recent data.</p>
<p>For example, with the ATT bot, the model can start considering more transactions as anomalous if the more recent transactions no longer share similar patterns or characteristics as the transactions the model was trained on. If the ATT bot starts to alert more anomalies than usual, it may be a good time to retrain the model with recent transaction data.</p>
<h3 id="tip-3-monitoring-ml-model-performance">Tip 3: Monitoring ML Model Performance</h3>
<p>There are two ways to monitor a ML models performance:</p>
<ol>
<li>One option is to check your bots <code>Alert Severities</code> breakdown on the bot details page. If the models class label predictions are mapped to different severity levels, you can use the pie chart to roughly gauge each classs prediction rate. For example, the ATT bot outputs class labels <code>ANOMALY</code> or <code>NORMAL</code>. The anomalous transactions have the severity level set to CRITICAL, and normal transactions have the level set to <code>INFO</code>. The pie chart below shows the CRITICAL findings rate (= anomaly rate) is &lt;1%.</li>
</ol>
<p align="center">
    <img src="../alert-severity-pie-graph.png" alt="Bot Alert Severity Pie Graph" width="400"/>
</p>
<ol>
<li>Another option is to query alerts with the <a href="https://docs.forta.network/en/latest/forta-api-reference/">Forta API</a> and calculate more precise model statistics for a specific timeframe. For the ATT bot, this <a href="https://github.com/forta-network/starter-kits/tree/main/anomalous-token-transfers-ml-py/daily_model_stats.ipynb">Daily Model Stats Notebook</a> queries 1 days worth of alerts and compares the models anomaly rate in production with trainings anomaly rate. This notebook also shows how ANOMALY_THRESHOLD can be tweaked to increase or decrease the anomaly rate.</li>
</ol>
<h2 id="interpreting-model-predictions">Interpreting Model Predictions</h2>
<p>It may be challenging to trust a models predictions without understanding the rationale behind it. There are explainable AI packages such as  <a href="https://www.oreilly.com/content/introduction-to-local-interpretable-model-agnostic-explanations-lime/">Local Interpretable Model-Agnostic Explanations (LIME)</a> or <a href="https://github.com/slundberg/shap">SHapley Additive exPlanations (SHAP)</a> that can explain model predictions. These explanations can help you see the particular features the model considered to make a prediction.</p>
<p>With the ATT bot, LIME produces a list of features and their weights to indicate the features influence on the prediction. For example, LIME shows below that the ATT model considered the number of USDC/USDT token transfers an important feature in labeling a transaction anomalous.</p>
<p align="center">
    <img src="../lime-model-explanations.png" alt="Lime Model Explanations" width="800"/>
</p>

<h2 id="was-the-guide-helpful">Was the guide helpful?</h2>
<p>If you made it all the way here, thanks for taking the time to read this guide! Was it useful or are there other guides or anything youd like to see? Did you integrate ML in a detection bot or need help? Let the community know how Forta can help, and dont forget to share your bot, thoughts, and/or feedback in <a href="https://discord.com/channels/869983523371642921/979123596880396349">the machine-learning discord channel</a>!</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://twitter.com/FortaNetwork" target="_blank" rel="noopener" title="Forta on Twitter" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://discord.gg/KACdTEutQq" target="_blank" rel="noopener" title="Forta on Discord" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485.065 485.065 0 0 0 404.081 32.03a1.816 1.816 0 0 0-1.923.91 337.461 337.461 0 0 0-14.9 30.6 447.848 447.848 0 0 0-134.426 0 309.541 309.541 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.689 483.689 0 0 0-119.688 37.107 1.712 1.712 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016 0 0 0 .765 1.375 487.666 487.666 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348.2 348.2 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321.173 321.173 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251.047 251.047 0 0 0 9.109-7.137 1.819 1.819 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.812 1.812 0 0 1 1.924.233 234.533 234.533 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.407 301.407 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391.055 391.055 0 0 0 30.014 48.815 1.864 1.864 0 0 0 2.063.7A486.048 486.048 0 0 0 610.7 405.729a1.882 1.882 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541ZM222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241Zm195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241Z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://github.com/forta-network" target="_blank" rel="noopener" title="Forta on Github" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.youtube.com/channel/UC_jxKtYfj7iLn4hTpQmBcYA" target="_blank" rel="noopener" title="Forta on YouTube" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://forta.org/blog/" target="_blank" rel="noopener" title="Forta Blog" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 64c0-17.7 14.3-32 32-32 229.8 0 416 186.2 416 416 0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96 14.3 96 0 81.7 0 64zm0 352a64 64 0 1 1 128 0 64 64 0 1 1-128 0zm32-256c159.1 0 288 128.9 288 288 0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224-17.7 0-32-14.3-32-32s14.3-32 32-32z"/></svg>
    </a>
  
    
    
    
    
    <a href="mailto:community@forta.org" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l217.6 163.2c11.4 8.5 27 8.5 38.4 0l217.6-163.2c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48H48zM0 176v208c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V176L294.4 339.2a63.9 63.9 0 0 1-76.8 0L0 176z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.top"], "search": "../assets/javascripts/workers/search.1e90e0fb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.e1f28405.min.js"></script>
      
    
  </body>
</html>